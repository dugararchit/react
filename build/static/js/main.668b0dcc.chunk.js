(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{187:function(e,t,a){"use strict";a.r(t);a(88),a(89);var s=a(0),n=a.n(s),r=a(84),c=a.n(r),o=a(22),i=a(18),l=a(19),u=a(34),m=a(21),p=a(20),g=a(85),d=a.n(g),v=(a(52),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return this.props.suggestions.length>0?n.a.createElement("li",{className:"message right appeared"},n.a.createElement("div",{className:"px-5"},this.props.suggestions.map((function(t,a){var s=t.phrase;return n.a.createElement("button",{key:a,onClick:function(){return e.props.onclicksuggestion(s)},className:"ml-1 btn btn-success"},t.text)})))):n.a.createElement("p",null)}}]),a}(n.a.Component)),h=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var e=this.messagesEnd;e.scrollTop=e.scrollHeight}},{key:"handleSuggestionClick",value:function(e){this.props.onclicksuggestion(e)}},{key:"render",value:function(){var e=this;return n.a.createElement("ul",{className:"messages",ref:function(t){e.messagesEnd=t}},this.props.sender.map((function(t,a){var s="";return e.props.receiver[a]&&e.props.receiver[a].length>0&&(s=n.a.createElement("li",{className:"message left appeared"},n.a.createElement("div",{className:"avatar"}),n.a.createElement("div",{className:"text_wrapper"},n.a.createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:e.props.receiver[a]}})))),0===a&&(s=n.a.createElement("li",{className:"message right appeared"},n.a.createElement("div",{className:"avatar"}),n.a.createElement("div",{className:"list-group px-2"},n.a.createElement("button",{type:"button",className:"list-group-item list-group-item-action",onClick:function(){return e.props.onclicksuggestion("field operator")}},n.a.createElement("b",null,"Steps- Field Operator")),n.a.createElement("button",{type:"button",className:"list-group-item list-group-item-action",onClick:function(){return e.props.onclicksuggestion("property source")}},n.a.createElement("b",null,"Steps- Property source")),n.a.createElement("button",{type:"button",className:"list-group-item list-group-item-action",onClick:function(){return e.props.onclicksuggestion("Hi")}},n.a.createElement("b",null,"Say hi to bot"))))),n.a.createElement("div",{key:a},n.a.createElement("li",{className:"message right appeared"},n.a.createElement("div",{className:"avatar"}),n.a.createElement("div",{className:"text_wrapper"},n.a.createElement("div",{className:"text"}," ",t," "))),s)})),n.a.createElement(v,{onclicksuggestion:function(t){return e.handleSuggestionClick(t)},suggestions:this.props.suggestions}))}}]),a}(n.a.Component),E=a(86),y=new(a.n(E).a);y.hasBrowserSupport()&&console.log("speech synthesis supported"),y.init({volume:1,lang:"en-GB",rate:1,pitch:1,voice:"Google UK English Female",splitSentences:!0,listeners:{onvoiceschanged:function(e){console.log("Event voiceschanged",e)}}}).then((function(e){console.log("Speech is ready, voices are available",e)})).catch((function(e){console.error("An error occured while initializing : ",e)}));var f=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={sender:["Hi I am Bot!!! What can I do for you today..."],receiver:[""],suggestions:[]},e.onClickSend=e.onClickSend.bind(Object(u.a)(e)),e}return Object(l.a)(a,[{key:"toggleChatBot",value:function(){var e=document.getElementsByClassName("Layout-expand");e[0].style.display=""===e[0].style.display?"block":""}},{key:"closeChatBot",value:function(){document.getElementsByClassName("Layout-expand")[0].style.display=""}},{key:"onClickSend",value:function(e){var t=this,a=e||document.getElementById("sendermessage").value.trim();a?(this.setState({sender:[].concat(Object(o.a)(this.state.sender),[a])}),document.getElementById("sendermessage").value="",this.setState({suggestions:[]}),function(e){return fetch("https://gpmuk.com/chatbot/apicore/?query=".concat(e)).then((function(e){return e.json()}))}(a).then((function(e){if(e.success&&e.message)e.suggestions.length>0&&t.setState({suggestions:e.suggestions}),t.setState({receiver:[].concat(Object(o.a)(t.state.receiver),[e.message])});else{t.setState({receiver:[].concat(Object(o.a)(t.state.receiver),["There is an error while processing your request, please try after sometime."])})}})).catch((function(e){console.log(e);var a="There is an error while processing your request, please try after sometime.";t.setState({receiver:[].concat(Object(o.a)(t.state.receiver),[a])}),t.setState({receiver:[].concat(Object(o.a)(t.state.receiver),[a])})}))):alert("Please Enter message")}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"chat_window"},n.a.createElement("div",{className:"top_menu"},n.a.createElement("div",{className:"title"},"Chat")),n.a.createElement(h,{onclicksuggestion:function(t){e.onClickSend(t)},sender:this.state.sender,receiver:this.state.receiver,suggestions:this.state.suggestions}),n.a.createElement("div",{className:"bottom_wrapper clearfix"},n.a.createElement("div",{className:"message_input_wrapper"},n.a.createElement("input",{className:"message_input",autoComplete:"off",id:"sendermessage",onKeyPress:function(t){"Enter"===t.key&&e.onClickSend()},placeholder:"Type your message here..."})),n.a.createElement("div",{className:"send_message"},n.a.createElement("div",{className:"icon"}),n.a.createElement("div",{className:"text",onClick:function(){e.onClickSend()}},"Send")))),n.a.createElement("div",{className:"message_template"},n.a.createElement("li",{className:"message"},n.a.createElement("div",{className:"avatar"}),n.a.createElement("div",{className:"text_wrapper"},n.a.createElement("div",{className:"text"})))))}}]),a}(n.a.Component),b=d()({autoStart:!1})(f);c.a.render(n.a.createElement(b,null),document.getElementById("root"))},52:function(e,t,a){},87:function(e,t,a){e.exports=a(187)}},[[87,1,2]]]);
//# sourceMappingURL=main.668b0dcc.chunk.js.map